<!-- Start wishlist -->
<section class="wishlist pb-[40px]" id="wishlist">
  <div class="container-wrapper">
    <div class="text-left pl-[132px] pb-[20px]">
      <h2>My Order <i class="fas fa-pencil-alt"></i></h2>
    </div>
    <div class="items grid place-items-center">
      <table class="w-[80%] bg-white rounded-lg">
        <thead class="">
          <tr class="border-y border-gray-200">
            <th class="py-5">Items</th>
            <th class="py-5">Order Id</th>
            <th class="py-5">Dlivered</th>
            <th class="py-5">Paid</th>
            <th class="py-5">Total Price</th>
          </tr>
        </thead>
        <tbody>
          <!--  -->
          @for(order of orders; track order._id){
          <tr class="shadow-lg border-y-2 border-yellow-500">
            <td
              class="order-scroll flex flex-col gap-2 max-h-[200px] overflow-y-auto p-3"
            >
              <!--  -->
              <!-- items -->
              @for(product of order.items; track product._id){
              <div class="flex gap-4">
                <div class="w-[80px] h-[80px]">
                  <img
                    [src]="productImg + product.productId.coverimg"
                    alt=""
                    class="img-responsive-fill"
                  />
                </div>
                <div class="">
                  <h2 class="font-medium text-slate-600">
                    Name: {{ product.productId.name }}
                  </h2>
                  <span class="font-medium text-slate-600"
                    >Quantity: {{ product.quantity }}</span
                  >
                </div>
              </div>
              }

              <!-- items -->
            </td>
            <td class="capitalize text-center">
              # {{ order._id | slice : -4 }}
            </td>
            <td class="text-center">
              @if(order.isDelivered){<span>{{ order.deliveredAt | date }}</span
              >}@else{<span>Pending</span>}
            </td>
            <td class="text-center">
              @if(order.isPaid){<span>{{ order.paidAt | date }}</span
              >}@else{<span>Pending</span>}
            </td>
            <td class="text-center">
              <span> {{ order.totalPrice | currency : "USD" }}</span>
            </td>
          </tr>
          <div class="py-4"></div>
          }
          <!-- another row -->
          <!--  -->

          <!-- another row -->
        </tbody>
      </table>
    </div>
    <!-- Start Pagination -->
    <nav
      aria-label="Page navigation example"
      class="flex justify-center items-center py-20"
    >
      <ul class="inline-flex -space-x-px text-sm">
        <li (click)="changePage(1)">
          <button
            class="flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
          >
            Previous
          </button>
        </li>
        <!-- End previous -->

        @if(pagination.prev){
        <li
          (click)="changePage(pagination.prev)"
          class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        >
          <button class="page-link">{{ pagination.prev }}</button>
        </li>
        }
        <li class="page-item">
          <button
            disabled
            class="flex items-center justify-center px-3 h-8 text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"
          >
            {{ pagination.currentPage }}
          </button>
        </li>
        @if(pagination.next){
        <li
          (click)="changePage(pagination.next)"
          class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        >
          <button class="page-link">{{ pagination.next }}</button>
        </li>
        }

        <!-- Start next -->

        <li (click)="changePage(pagination.totalPages!)">
          <button
            class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
          >
            Next
          </button>
        </li>
      </ul>
    </nav>

    <!-- End Pagination -->
    <div class="flex gap-4 pt-10 justify-center items-center">
      <span class="font-medium text-lg text-yellow-500 shadow-md p-1"
        >Share on:
      </span>
      <div class="flex gap-4 items-center">
        <i class="fab fa-facebook-f text-sm"></i>
        <i class="fab fa-twitter text-sm"></i>
        <i class="fab fa-linkedin-in text-sm"></i>
        <i class="fab fa-pinterest-p text-sm"></i>
      </div>
    </div>
  </div>
</section>
<!-- End wishlist -->
